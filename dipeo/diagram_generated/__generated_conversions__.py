"""
Generated conversion functions for TypeScript <-> Python transformations.
DO NOT EDIT - This file is automatically generated.
"""

from typing import Any, Dict, List, Optional, Union, Type, TypeVar
from enum import Enum
import json

# Import generated models
from .__generated_models__ import *

T = TypeVar('T')


# Enum conversion helpers
def llm_service_to_string(value: LLMService) -> str:
    """Convert LLMService enum to string."""
    return value.value if isinstance(value, LLMService) else str(value)


def string_to_llm_service(value: str) -> LLMService:
    """Convert string to LLMService enum."""
    try:
        return LLMService(value)
    except ValueError:
        raise ValueError(f"Invalid LLMService value: {value}")

def api_service_type_to_string(value: APIServiceType) -> str:
    """Convert APIServiceType enum to string."""
    return value.value if isinstance(value, APIServiceType) else str(value)


def string_to_api_service_type(value: str) -> APIServiceType:
    """Convert string to APIServiceType enum."""
    try:
        return APIServiceType(value)
    except ValueError:
        raise ValueError(f"Invalid APIServiceType value: {value}")

def notion_operation_to_string(value: NotionOperation) -> str:
    """Convert NotionOperation enum to string."""
    return value.value if isinstance(value, NotionOperation) else str(value)


def string_to_notion_operation(value: str) -> NotionOperation:
    """Convert string to NotionOperation enum."""
    try:
        return NotionOperation(value)
    except ValueError:
        raise ValueError(f"Invalid NotionOperation value: {value}")

def tool_type_to_string(value: ToolType) -> str:
    """Convert ToolType enum to string."""
    return value.value if isinstance(value, ToolType) else str(value)


def string_to_tool_type(value: str) -> ToolType:
    """Convert string to ToolType enum."""
    try:
        return ToolType(value)
    except ValueError:
        raise ValueError(f"Invalid ToolType value: {value}")

def execution_status_to_string(value: ExecutionStatus) -> str:
    """Convert ExecutionStatus enum to string."""
    return value.value if isinstance(value, ExecutionStatus) else str(value)


def string_to_execution_status(value: str) -> ExecutionStatus:
    """Convert string to ExecutionStatus enum."""
    try:
        return ExecutionStatus(value)
    except ValueError:
        raise ValueError(f"Invalid ExecutionStatus value: {value}")

def node_execution_status_to_string(value: NodeExecutionStatus) -> str:
    """Convert NodeExecutionStatus enum to string."""
    return value.value if isinstance(value, NodeExecutionStatus) else str(value)


def string_to_node_execution_status(value: str) -> NodeExecutionStatus:
    """Convert string to NodeExecutionStatus enum."""
    try:
        return NodeExecutionStatus(value)
    except ValueError:
        raise ValueError(f"Invalid NodeExecutionStatus value: {value}")

def event_type_to_string(value: EventType) -> str:
    """Convert EventType enum to string."""
    return value.value if isinstance(value, EventType) else str(value)


def string_to_event_type(value: str) -> EventType:
    """Convert string to EventType enum."""
    try:
        return EventType(value)
    except ValueError:
        raise ValueError(f"Invalid EventType value: {value}")

def node_type_to_string(value: NodeType) -> str:
    """Convert NodeType enum to string."""
    return value.value if isinstance(value, NodeType) else str(value)


def string_to_node_type(value: str) -> NodeType:
    """Convert string to NodeType enum."""
    try:
        return NodeType(value)
    except ValueError:
        raise ValueError(f"Invalid NodeType value: {value}")

def handle_direction_to_string(value: HandleDirection) -> str:
    """Convert HandleDirection enum to string."""
    return value.value if isinstance(value, HandleDirection) else str(value)


def string_to_handle_direction(value: str) -> HandleDirection:
    """Convert string to HandleDirection enum."""
    try:
        return HandleDirection(value)
    except ValueError:
        raise ValueError(f"Invalid HandleDirection value: {value}")

def handle_label_to_string(value: HandleLabel) -> str:
    """Convert HandleLabel enum to string."""
    return value.value if isinstance(value, HandleLabel) else str(value)


def string_to_handle_label(value: str) -> HandleLabel:
    """Convert string to HandleLabel enum."""
    try:
        return HandleLabel(value)
    except ValueError:
        raise ValueError(f"Invalid HandleLabel value: {value}")

def data_type_to_string(value: DataType) -> str:
    """Convert DataType enum to string."""
    return value.value if isinstance(value, DataType) else str(value)


def string_to_data_type(value: str) -> DataType:
    """Convert string to DataType enum."""
    try:
        return DataType(value)
    except ValueError:
        raise ValueError(f"Invalid DataType value: {value}")

def forgetting_mode_to_string(value: ForgettingMode) -> str:
    """Convert ForgettingMode enum to string."""
    return value.value if isinstance(value, ForgettingMode) else str(value)


def string_to_forgetting_mode(value: str) -> ForgettingMode:
    """Convert string to ForgettingMode enum."""
    try:
        return ForgettingMode(value)
    except ValueError:
        raise ValueError(f"Invalid ForgettingMode value: {value}")

def memory_view_to_string(value: MemoryView) -> str:
    """Convert MemoryView enum to string."""
    return value.value if isinstance(value, MemoryView) else str(value)


def string_to_memory_view(value: str) -> MemoryView:
    """Convert string to MemoryView enum."""
    try:
        return MemoryView(value)
    except ValueError:
        raise ValueError(f"Invalid MemoryView value: {value}")

def diagram_format_to_string(value: DiagramFormat) -> str:
    """Convert DiagramFormat enum to string."""
    return value.value if isinstance(value, DiagramFormat) else str(value)


def string_to_diagram_format(value: str) -> DiagramFormat:
    """Convert string to DiagramFormat enum."""
    try:
        return DiagramFormat(value)
    except ValueError:
        raise ValueError(f"Invalid DiagramFormat value: {value}")

def db_block_sub_type_to_string(value: DBBlockSubType) -> str:
    """Convert DBBlockSubType enum to string."""
    return value.value if isinstance(value, DBBlockSubType) else str(value)


def string_to_db_block_sub_type(value: str) -> DBBlockSubType:
    """Convert string to DBBlockSubType enum."""
    try:
        return DBBlockSubType(value)
    except ValueError:
        raise ValueError(f"Invalid DBBlockSubType value: {value}")

def content_type_to_string(value: ContentType) -> str:
    """Convert ContentType enum to string."""
    return value.value if isinstance(value, ContentType) else str(value)


def string_to_content_type(value: str) -> ContentType:
    """Convert string to ContentType enum."""
    try:
        return ContentType(value)
    except ValueError:
        raise ValueError(f"Invalid ContentType value: {value}")

def supported_language_to_string(value: SupportedLanguage) -> str:
    """Convert SupportedLanguage enum to string."""
    return value.value if isinstance(value, SupportedLanguage) else str(value)


def string_to_supported_language(value: str) -> SupportedLanguage:
    """Convert string to SupportedLanguage enum."""
    try:
        return SupportedLanguage(value)
    except ValueError:
        raise ValueError(f"Invalid SupportedLanguage value: {value}")

def http_method_to_string(value: HttpMethod) -> str:
    """Convert HttpMethod enum to string."""
    return value.value if isinstance(value, HttpMethod) else str(value)


def string_to_http_method(value: str) -> HttpMethod:
    """Convert string to HttpMethod enum."""
    try:
        return HttpMethod(value)
    except ValueError:
        raise ValueError(f"Invalid HttpMethod value: {value}")

def hook_type_to_string(value: HookType) -> str:
    """Convert HookType enum to string."""
    return value.value if isinstance(value, HookType) else str(value)


def string_to_hook_type(value: str) -> HookType:
    """Convert string to HookType enum."""
    try:
        return HookType(value)
    except ValueError:
        raise ValueError(f"Invalid HookType value: {value}")

def hook_trigger_mode_to_string(value: HookTriggerMode) -> str:
    """Convert HookTriggerMode enum to string."""
    return value.value if isinstance(value, HookTriggerMode) else str(value)


def string_to_hook_trigger_mode(value: str) -> HookTriggerMode:
    """Convert string to HookTriggerMode enum."""
    try:
        return HookTriggerMode(value)
    except ValueError:
        raise ValueError(f"Invalid HookTriggerMode value: {value}")


# Model conversion functions

# Generic conversion helpers
def model_to_dict(model: BaseModel) -> Dict[str, Any]:
    """Convert any Pydantic model to dictionary."""
    model_type = type(model).__name__
    converter_name = f"{model_type[0].lower()}{model_type[1:]}_to_dict"
    
    # Try to find specific converter
    converter = globals().get(converter_name)
    if converter:
        return converter(model)
    
    # Fallback to generic conversion
    return model.dict(exclude_none=True)


def dict_to_model(data: Dict[str, Any], model_type: Type[T]) -> T:
    """Convert dictionary to specified model type."""
    type_name = model_type.__name__
    converter_name = f"dict_to_{type_name[0].lower()}{type_name[1:]}"
    
    # Try to find specific converter
    converter = globals().get(converter_name)
    if converter:
        return converter(data)
    
    # Fallback to direct instantiation
    return model_type(**data)


# JSON conversion helpers
def model_to_json(model: BaseModel, **kwargs) -> str:
    """Convert model to JSON string."""
    return json.dumps(model_to_dict(model), **kwargs)


def json_to_model(json_str: str, model_type: Type[T]) -> T:
    """Convert JSON string to model."""
    data = json.loads(json_str)
    return dict_to_model(data, model_type)


# Batch conversion helpers
def models_to_dicts(models: List[BaseModel]) -> List[Dict[str, Any]]:
    """Convert list of models to list of dictionaries."""
    return [model_to_dict(model) for model in models]


def dicts_to_models(data_list: List[Dict[str, Any]], model_type: Type[T]) -> List[T]:
    """Convert list of dictionaries to list of models."""
    return [dict_to_model(data, model_type) for data in data_list]


# Node-specific conversion helpers
NODE_TYPE_MAP = {
}


def create_node_from_dict(node_type: str, data: Dict[str, Any]) -> BaseModel:
    """Create a node model from node type and data."""
    model_class = NODE_TYPE_MAP.get(node_type)
    if not model_class:
        raise ValueError(f"Unknown node type: {node_type}")
    
    return dict_to_model(data, model_class)


def node_to_dict(node: BaseModel) -> Dict[str, Any]:
    """Convert any node model to dictionary with type information."""
    data = model_to_dict(node)
    
    # Add node type if not present
    if "type" not in data:
        # Infer node type from class name
        class_name = type(node).__name__
        if class_name.endswith("Node"):
            node_type = class_name[:-4].lower()
            # Convert camelCase to snake_case
            import re
            node_type = re.sub(r'(?<!^)(?=[A-Z])', '_', node_type).lower()
            data["type"] = node_type
    
    return data


# Export all conversion functions
__all__ = [
    # Enum converters
    "llm_service_to_string",
    "string_to_llm_service",
    "api_service_type_to_string",
    "string_to_api_service_type",
    "notion_operation_to_string",
    "string_to_notion_operation",
    "tool_type_to_string",
    "string_to_tool_type",
    "execution_status_to_string",
    "string_to_execution_status",
    "node_execution_status_to_string",
    "string_to_node_execution_status",
    "event_type_to_string",
    "string_to_event_type",
    "node_type_to_string",
    "string_to_node_type",
    "handle_direction_to_string",
    "string_to_handle_direction",
    "handle_label_to_string",
    "string_to_handle_label",
    "data_type_to_string",
    "string_to_data_type",
    "forgetting_mode_to_string",
    "string_to_forgetting_mode",
    "memory_view_to_string",
    "string_to_memory_view",
    "diagram_format_to_string",
    "string_to_diagram_format",
    "db_block_sub_type_to_string",
    "string_to_db_block_sub_type",
    "content_type_to_string",
    "string_to_content_type",
    "supported_language_to_string",
    "string_to_supported_language",
    "http_method_to_string",
    "string_to_http_method",
    "hook_type_to_string",
    "string_to_hook_type",
    "hook_trigger_mode_to_string",
    "string_to_hook_trigger_mode",
    # Model converters
    # Generic helpers
    "model_to_dict",
    "dict_to_model",
    "model_to_json",
    "json_to_model",
    "models_to_dicts",
    "dicts_to_models",
    # Node helpers
    "create_node_from_dict",
    "node_to_dict",
    "NODE_TYPE_MAP",
]