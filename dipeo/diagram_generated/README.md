# Diagram-Generated Backend Code

This directory contains backend code generated by DiPeO's self-hosted code generation system.

## Important Notes

⚠️ **ALL FILES IN THIS DIRECTORY ARE AUTO-GENERATED**
- Do not edit these files manually
- Changes will be overwritten on the next generation run
- To modify generated code, update the source specifications in `projects/codegen/specifications/`

## Directory Structure

```
diagram_generated/
├── models/          # Pydantic models for node data validation
│   ├── api_job_model.py
│   ├── code_job_model.py
│   ├── person_job_model.py
│   └── ...
├── nodes/           # Static node dataclasses for type-safe node definitions
│   ├── api_job_node.py
│   ├── code_job_node.py
│   ├── person_job_node.py
│   └── ...
├── components/      # (Reserved for future use)
├── configs/         # (Reserved for future use)
└── graphql/         # (Reserved for future use)
```

## What Gets Generated

### 1. Pydantic Models (`models/`)
- Data validation models for each node type
- Used by the GraphQL API and node handlers
- Include field validation, type hints, and serialization

### 2. Static Nodes (`nodes/`)
- Frozen dataclasses representing node instances
- Include all node fields with proper types and defaults
- Provide `to_dict()` method for serialization
- No inheritance from BaseExecutableNode to avoid dataclass issues

### 3. GraphQL Schemas
- Generated in `apps/server/src/__generated__/`
- Define GraphQL types for each node
- Used by the GraphQL server

## Generation Commands

### Generate all backend code:
```bash
dipeo run codegen/diagrams/backend/generate_backend_all --light --debug --no-browser --timeout=30
```

### Generate a single node type:
```bash
dipeo run codegen/diagrams/backend/generate_backend_single --light --debug --no-browser \
  --input-data '{"node_spec_path": "api_job"}'
```

### Generate everything (frontend + backend):
```bash
dipeo run codegen/diagrams/generate_all --light --debug --no-browser --timeout=30
```

## Source Files

- **Node specifications**: `projects/codegen/specifications/nodes/*.json`
- **Templates**: `projects/codegen/templates/backend/`
- **Generation diagrams**: `projects/codegen/diagrams/backend/`

## Architecture Notes

This directory is part of DiPeO's backend code generation:
- **Frontend generated code** goes to `apps/web/src/__generated__/`
- **Backend generated code** comes here and to `apps/server/src/__generated__/`
- The generation system itself is implemented as DiPeO diagrams (dog-fooding)