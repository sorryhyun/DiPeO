{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$ref": "#/definitions/PersonJobNodeData",
  "definitions": {
    "PersonJobNodeData": {
      "additionalProperties": false,
      "properties": {
        "default_prompt": {
          "type": "string"
        },
        "first_only_prompt": {
          "type": "string"
        },
        "flipped": {
          "type": "boolean"
        },
        "label": {
          "type": "string"
        },
        "max_iteration": {
          "type": "number"
        },
        "memory_settings": {
          "anyOf": [
            {
              "$ref": "#/definitions/MemorySettings"
            },
            {
              "type": "null"
            }
          ]
        },
        "person": {
          "$ref": "#/definitions/PersonID"
        },
        "tools": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/definitions/ToolConfig"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ]
        }
      },
      "required": [
        "first_only_prompt",
        "label",
        "max_iteration"
      ],
      "type": "object"
    },
    "ToolType": {
      "enum": [
        "web_search",
        "web_search_preview",
        "image_generation"
      ],
      "type": "string"
    },
    "ToolConfig": {
      "additionalProperties": false,
      "properties": {
        "config": {
          "$ref": "#/definitions/Record<string,any>"
        },
        "enabled": {
          "type": "boolean"
        },
        "type": {
          "$ref": "#/definitions/ToolType"
        }
      },
      "required": [
        "type"
      ],
      "type": "object"
    },
    "PersonID": {
      "additionalProperties": false,
      "properties": {
        "__brand": {
          "const": "PersonID",
          "type": "string"
        }
      },
      "required": [
        "__brand"
      ],
      "type": "object"
    },
    "Record<string,any>": {
      "additionalProperties": false,
      "type": "object"
    },
    "MemoryView": {
      "enum": [
        "all_involved",
        "sent_by_me",
        "sent_to_me",
        "system_and_me",
        "conversation_pairs",
        "all_messages"
      ],
      "type": "string"
    },
    "MemorySettings": {
      "additionalProperties": false,
      "properties": {
        "max_messages": {
          "type": [
            "null",
            "number"
          ]
        },
        "preserve_system": {
          "type": "boolean"
        },
        "view": {
          "$ref": "#/definitions/MemoryView"
        }
      },
      "required": [
        "view"
      ],
      "type": "object"
    }
  }
}