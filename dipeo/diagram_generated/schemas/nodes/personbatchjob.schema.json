{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$ref": "#/definitions/PersonBatchJobNodeData",
  "definitions": {
    "PersonBatchJobNodeData": {
      "additionalProperties": false,
      "properties": {
        "batch": {
          "type": "boolean"
        },
        "batch_input_key": {
          "type": "string"
        },
        "batch_parallel": {
          "type": "boolean"
        },
        "default_prompt": {
          "type": "string"
        },
        "first_only_prompt": {
          "type": "string"
        },
        "flipped": {
          "type": "boolean"
        },
        "label": {
          "type": "string"
        },
        "max_concurrent": {
          "type": "number"
        },
        "max_iteration": {
          "type": "number"
        },
        "memory_profile": {
          "enum": [
            "CUSTOM",
            "FOCUSED",
            "FULL",
            "GOLDFISH",
            "MINIMAL"
          ],
          "type": "string"
        },
        "memory_settings": {
          "anyOf": [
            {
              "$ref": "#/definitions/MemorySettings"
            },
            {
              "type": "null"
            }
          ]
        },
        "person": {
          "$ref": "#/definitions/PersonID"
        },
        "prompt_file": {
          "type": "string"
        },
        "tools": {
          "enum": [
            "image",
            "none",
            "websearch"
          ],
          "type": "string"
        }
      },
      "required": [
        "first_only_prompt",
        "label",
        "max_iteration"
      ],
      "type": "object"
    },
    "MemorySettings": {
      "additionalProperties": false,
      "properties": {
        "max_messages": {
          "type": [
            "null",
            "number"
          ]
        },
        "preserve_system": {
          "type": "boolean"
        },
        "view": {
          "$ref": "#/definitions/MemoryView"
        }
      },
      "required": [
        "view"
      ],
      "type": "object"
    },
    "PersonID": {
      "additionalProperties": false,
      "properties": {
        "__brand": {
          "const": "PersonID",
          "type": "string"
        }
      },
      "required": [
        "__brand"
      ],
      "type": "object"
    },
    "MemoryView": {
      "description": "Memory management enumerations",
      "enum": [
        "all_involved",
        "sent_by_me",
        "sent_to_me",
        "system_and_me",
        "conversation_pairs",
        "all_messages"
      ],
      "type": "string"
    }
  }
}