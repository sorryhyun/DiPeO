# Test simple glob functionality
version: light

nodes:
  - label: Start
    type: start
    position: {x: 50, y: 200}

  - label: Test Glob
    type: db
    position: {x: 200, y: 200}
    props:
      operation: read
      sub_type: file
      format: json
      glob: true
      source_details:
        - "temp/specifications/nodes/*.spec.ts.json"

  - label: Debug Output
    type: code_job
    position: {x: 350, y: 200}
    props:
      language: python
      code: |
        import json
        print("Inputs received:", json.dumps(list(inputs.keys()), indent=2))
        return {"count": len(inputs)}

  - label: End
    type: endpoint
    position: {x: 500, y: 200}
    props:
      save_to_file: false

connections:
  - {from: Start, to: Test Glob}
  - {from: Test Glob, to: Debug Output, content_type: object}
  - {from: Debug Output, to: End}