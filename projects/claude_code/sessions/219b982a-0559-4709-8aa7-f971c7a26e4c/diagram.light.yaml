version: light
nodes:
- label: Start
  type: start
  position: {x: 100, y: 100}
  props:
    trigger_mode: manual
    custom_data:
      session_id: 219b982a-0559-4709-8aa7-f971c7a26e4c
      initial_prompt: '[{"type": "user", "message": {"role": "user", "content": [{"type": "text", "text": "CANDIDATE MESSAGES (id (sender): snippet):\n\n\n===\n\nTASK PREVIEW:\n===\n\nHow many times did you respond?\n\n===\'
- label: mcp__dipeo_structured_output__select_memory_messages 1
  type: api_job
  position: {x: 350, y: 100}
  props:
    endpoint: /tools/mcp__dipeo_structured_output__select_memory_messages
    method: POST
    body:
      message_ids: []
    timeout: 30
- label: User Input 2
  type: person_job
  position: {x: 400, y: 100}
  props:
    person: user
    default_prompt: '[{''type'': ''text'', ''text'': ''Selected 0 messages''}]'
    max_iteration: 1
connections:
- from: Start
  to: mcp__dipeo_structured_output__select_memory_messages 1
  content_type: raw_text
- from: mcp__dipeo_structured_output__select_memory_messages 1
  to: User Input 2
  content_type: raw_text
persons:
  user:
    service: openai
    model: user
    api_key_id: USER_INPUT
