import{c as h,j as t,E as I,r as D,u as p,a as O,W as R}from"./index-D2zW4HEo.js";import{S as b}from"./StatusBadge-9d4oukyV.js";var s;(function(e){e.PENDING="pending",e.RUNNING="running",e.PAUSED="paused",e.COMPLETED="completed",e.FAILED="failed",e.ABORTED="aborted",e.SKIPPED="skipped",e.MAXITER_REACHED="maxiter_reached"})(s||(s={}));var d;(function(e){e.WAITING="waiting",e.READY="ready",e.RUNNING="running",e.BLOCKED="blocked"})(d||(d={}));var l;(function(e){e.SUCCESS="success",e.FAILED="failed",e.SKIPPED="skipped",e.MAX_ITER="max_iter"})(l||(l={}));var c;(function(e){e.MEMORY_SELECTION="memory_selection",e.DIRECT_EXECUTION="direct_execution",e.DECISION_EVALUATION="decision_evaluation",e.DEFAULT="default"})(c||(c={}));var m;(function(e){e.EXECUTION_STARTED="execution_started",e.EXECUTION_COMPLETED="execution_completed",e.EXECUTION_ERROR="execution_error",e.NODE_STARTED="node_started",e.NODE_COMPLETED="node_completed",e.NODE_ERROR="node_error",e.NODE_OUTPUT="node_output",e.EXECUTION_LOG="execution_log",e.INTERACTIVE_PROMPT="interactive_prompt",e.INTERACTIVE_RESPONSE="interactive_response"})(m||(m={}));function j(){const[e,x]=D.useState("all"),{data:i,loading:N,error:u,refetch:f}=p(O,{limit:50},{refetchInterval:1e4}),a=i?.listExecutions?.filter(r=>e==="all"?!0:r.status===e)||[],g=(r,o)=>{if(!r)return"N/A";if(!o)return"In progress";const _=new Date(o).getTime()-new Date(r).getTime(),n=Math.floor(_/1e3);return n<60?`${n}s`:`${Math.floor(n/60)}m ${n%60}s`};return t.jsxs(R,{title:"Execution History",error:u,loading:N&&!i,children:[t.jsx("div",{className:"mb-4 flex gap-2 flex-wrap",children:["all",s.RUNNING,s.COMPLETED,s.FAILED,s.PENDING].map(r=>t.jsx("button",{onClick:()=>x(r),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${e===r?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:r==="all"?"All":r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()},r))}),t.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[a.length," execution",a.length!==1?"s":""]}),t.jsx("div",{className:"space-y-3",children:a.length===0?t.jsx("div",{className:"text-center py-8 text-gray-500",children:"No executions found"}):a.map(r=>t.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-400 hover:shadow-sm transition-all",children:[t.jsx("div",{className:"flex items-start justify-between mb-2",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(b,{status:r.status}),t.jsx("span",{className:"font-semibold text-gray-900",children:r.diagram_id||"Unknown Diagram"})]}),t.jsx("div",{className:"text-xs font-mono text-gray-500",children:r.id})]})}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[t.jsxs("span",{children:["Started: ",r.started_at?new Date(r.started_at).toLocaleString():"N/A"]}),t.jsx("span",{className:"font-medium",children:g(r.started_at,r.ended_at)})]}),r.error&&t.jsxs("div",{className:"mt-2 text-xs text-red-600 bg-red-50 rounded px-2 py-1",children:["Error: ",r.error]})]},r.id))}),i&&t.jsx("button",{onClick:()=>f(),className:"mt-4 w-full py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Refresh"})]})}const E=document.getElementById("execution-list-root");E&&h.createRoot(E).render(t.jsx(I,{children:t.jsx(j,{})}));
//# sourceMappingURL=execution-list-Bw2xgK-Z.js.map
