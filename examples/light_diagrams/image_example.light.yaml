version: light

name: image_generation_example
description: Demonstrates generating an illustration using the image generation tool.

persons:
  Drawer:
    service: openai
    model: gpt-5-nano-2025-08-07
    api_key_id: APIKEY_52609F
    system_prompt: |
      You are a creative illustrator who turns short briefs into polished concept art.

nodes:
  - label: Start
    type: start
    position: {x: 180, y: 290}
    props:
      trigger_mode: manual

  - label: Generate Illustration
    type: person_job
    position: {x: 480, y: 300}
    props:
      person: Drawer
      max_iteration: 1
      memorize_to: GOLDFISH
      tools:
        - type: image_generation
          enabled: true
      default_prompt: |
        Create a friendly illustration of Claude assisting a developer at a laptop.
        Use a bright color palette and include subtle futuristic details.

  - label: Save Result
    type: endpoint
    position: {x: 780, y: 280}
    props:
      save_to_file: true
      file_format: jpg
      file_path: files/results/drawing_result.jpg

connections:
  - {from: Start, to: Generate Illustration}
  - {from: Generate Illustration, to: Save Result, content_type: raw_text}
