version: light
nodes:
- label: Start
  type: start
  position:
    x: 177
    y: 320
  trigger_mode: manual
- label: Load Topic
  type: db
  position:
    x: 431
    y: 148
  operation: read
  sub_type: file
  source_details: files/uploads/questions.txt
- label: Optimist
  type: person_job
  position:
    x: 600
    y: 452
  person: Optimist
  first_only_prompt: 'Suggest a reasonable argument: {{topic}}'
  default_prompt: Argue against the argument.
  max_iteration: 2
  memorize_to: GOLDFISH
  flipped:
  - false
  - true
- label: Pessimist
  type: person_job
  position:
    x: 899
    y: 380
  person: Pessimist
  first_only_prompt: 'Suggest a reasonable argument: {{topic}}'
  default_prompt: Argue against the argument.
  max_iteration: 3
  memorize_to: GOLDFISH
  flipped:
  - false
  - true
- label: Judge Panel
  type: person_job
  position:
    x: 439
    y: 663
  person: Judge
  default_prompt: Judge which panel is more reasonable.
  max_iteration: 1
  memorize_to: ALL_MESSAGES
  flipped:
  - true
  - false
- label: Detect Max Iterations
  type: condition
  position:
    x: 785
    y: 647
  condition_type: detect_max_iterations
  flipped:
  - true
  - true
- label: Save Verdict
  type: endpoint
  position:
    x: 58
    y: 668
  save_to_file: true
  file_format: txt
  file_path: files/results/output.txt
  flipped:
  - true
  - false
connections:
- from: Start
  to: Load Topic
- from: Load Topic
  to: Optimist[first]
  label: topic
  content_type: raw_text
- from: Load Topic
  to: Pessimist[first]
  label: topic
  content_type: raw_text
- from: Optimist
  to: Pessimist
  content_type: conversation_state
- from: Pessimist
  to: Detect Max Iterations
  content_type: conversation_state
- from: Detect Max Iterations[condfalse]
  to: Optimist
  content_type: conversation_state
- from: Detect Max Iterations[condtrue]
  to: Judge Panel
  content_type: conversation_state
- from: Judge Panel
  to: Save Verdict
  content_type: raw_text
persons:
- service: openai
  model: gpt-5-nano-2025-08-07
  api_key_id: APIKEY_52609F
  system_prompt: 'You are an impartial debate judge. Focus on clarity, factual grounding,
    and persuasiveness.

    Keep your verdict under 25 words.

    '
- service: openai
  model: gpt-5-nano-2025-08-07
  api_key_id: APIKEY_52609F
  system_prompt: 'You argue with enthusiasm and highlight positive opportunities.
    Keep responses under 25 words.

    '
- service: openai
  model: gpt-5-nano-2025-08-07
  api_key_id: APIKEY_52609F
  system_prompt: 'You argue with skepticism and raise risks. Keep responses under
    25 words.

    '
