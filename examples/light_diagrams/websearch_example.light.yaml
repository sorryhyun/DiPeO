version: light

name: websearch_example
description: Runs a single search query using the built-in web_search_preview tool.

persons:
  Researcher:
    service: openai
    model: gpt-5-nano-2025-08-07
    api_key_id: APIKEY_52609F
    system_prompt: |
      You are a concise research assistant. Summarize findings into short bullet points with links when possible.

nodes:
  - label: Start
    type: start
    position: {x: 180, y: 290}
    props:
      trigger_mode: manual

  - label: Run Web Search
    type: person_job
    position: {x: 480, y: 300}
    props:
      person: Researcher
      max_iteration: 1
      memorize_to: GOLDFISH
      default_prompt: |
        Research the latest updates about Claude and summarize the top insights.
        Include source URLs when the tool provides them.
      tools:
        - type: web_search_preview
          enabled: true

  - label: Save Result
    type: endpoint
    position: {x: 780, y: 280}
    props:
      save_to_file: true
      file_format: json
      file_path: files/results/search_result.json

connections:
  - {from: Start, to: Run Web Search}
  - {from: Run Web Search, to: Save Result, content_type: raw_text}
