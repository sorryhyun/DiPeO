version: light
nodes:
  - label: Start
    type: start
    position: {x: 100, y: 200}
    props:
      trigger_mode: manual
      custom_data:
        render_results: []  # Array of rendering results
        spec_data: {}      # Normalized spec data
        
  - label: Collect Generated Files
    type: code_job
    position: {x: 300, y: 200}
    props:
      functionName: collect_generated_files
      code_type: python
      code: files/codegen/code/phase2/registry_update_helpers.py
            
  - label: Update Node Registry
    type: code_job
    position: {x: 500, y: 100}
    props:
      functionName: update_node_type_registry
      code_type: python
      code: files/codegen/code/phase2/registry_update_helpers.py
            
  - label: Update Export Indices
    type: code_job
    position: {x: 500, y: 300}
    props:
      functionName: update_export_indices
      code_type: python
      code: files/codegen/code/phase2/registry_update_helpers.py
            
  - label: Generate Registry Report
    type: code_job
    position: {x: 700, y: 200}
    props:
      functionName: generate_registry_report
      code_type: python
      code: files/codegen/code/phase2/registry_update_helpers.py
            
  - label: End
    type: endpoint
    position: {x: 900, y: 200}
    props:
      save_to_file: false

connections:
  - from: Start
    to: Collect Generated Files
    content_type: object
    
  - from: Collect Generated Files
    to: Update Node Registry
    content_type: object
    
  - from: Collect Generated Files
    to: Update Export Indices
    content_type: object
    
  - from: Update Node Registry
    to: Generate Registry Report
    content_type: object
    label: registry_updates
    
  - from: Update Export Indices
    to: Generate Registry Report
    content_type: object
    label: index_updates
    
  - from: Collect Generated Files
    to: Generate Registry Report
    content_type: object
    
  - from: Generate Registry Report
    to: End
    content_type: object