{
  "nodes": [
    {
      "id": "node_0",
      "type": "start",
      "position": {
        "x": 60,
        "y": 200
      },
      "data": {
        "trigger_mode": "manual",
        "custom_data": {},
        "output_data_structure": {},
        "label": "start"
      }
    },
    {
      "id": "node_1",
      "type": "db",
      "position": {
        "x": 220,
        "y": 200
      },
      "data": {
        "operation": "read",
        "sub_type": "file",
        "file": "projects/frontend_enhance/frontend_enhance_config.json",
        "label": "load config"
      }
    },
    {
      "id": "node_2",
      "type": "person_job",
      "position": {
        "x": 460,
        "y": 200
      },
      "data": {
        "person": "Section Planner",
        "max_iteration": 1,
        "memory_profile": "MINIMAL",
        "text_format_file": "projects/frontend_enhance/section_models.py",
        "default_prompt": "Analyze the requirements and split into independent sections for development:\nApp config: {{config}}      \nCreate a structured response with sections that can be implemented in parallel.\n",
        "memory_settings": {
          "view": "system_and_me",
          "max_messages": 5,
          "preserve_system": true
        },
        "label": "understand requirements",
        "first_only_prompt": ""
      }
    },
    {
      "id": "node_3",
      "type": "db",
      "position": {
        "x": 720,
        "y": 200
      },
      "data": {
        "operation": "write",
        "sub_type": "file",
        "format": "json",
        "file": "projects/frontend_enhance/generated/sections_data.json",
        "label": "save sections data"
      }
    },
    {
      "id": "node_4",
      "type": "code_job",
      "position": {
        "x": 980,
        "y": 200
      },
      "data": {
        "language": "python",
        "code": "result = {\n  \"section_count\": len(sections['sections']),\n  \"indices\": [{'index': i} for i in range(len(sections['sections']))]\n}\n",
        "label": "prepare batch indices"
      }
    },
    {
      "id": "node_5",
      "type": "sub_diagram",
      "position": {
        "x": 1260,
        "y": 200
      },
      "data": {
        "diagram_name": "projects/frontend_enhance/section_implementor",
        "diagram_format": "light",
        "passInputData": true,
        "batch": true,
        "batch_input_key": "indices",
        "batch_parallel": true,
        "label": "implement sections"
      }
    },
    {
      "id": "node_6",
      "type": "code_job",
      "position": {
        "x": 1540,
        "y": 200
      },
      "data": {
        "language": "python",
        "code": "import statistics\nscores = [it.get(\"score\", 0) for it in batch_results]\nok = all(s >= target_score for s in scores)\nresult = {\n  \"sections_done\": len(scores),\n  \"scores\": scores,\n  \"min_score\": min(scores) if scores else 0,\n  \"avg_score\": round(statistics.mean(scores), 2) if scores else 0,\n  \"target\": target_score,\n  \"success\": ok,\n}\n",
        "label": "aggregate results"
      }
    },
    {
      "id": "node_7",
      "type": "endpoint",
      "position": {
        "x": 1820,
        "y": 200
      },
      "data": {
        "file_format": "json",
        "save_to_file": true,
        "file_name": "projects/frontend_enhance/generated/results.multi_section.json",
        "label": "save summary"
      }
    }
  ],
  "arrows": [
    {
      "id": "arrow_0",
      "source": "node_0_default_output",
      "target": "node_1_default_input",
      "label": null,
      "packing": null,
      "data": null,
      "content_type": "raw_text"
    },
    {
      "id": "arrow_1",
      "source": "node_1_default_output",
      "target": "node_2_default_input",
      "label": "config",
      "packing": null,
      "data": null,
      "content_type": "object"
    },
    {
      "id": "arrow_2",
      "source": "node_2_default_output",
      "target": "node_3_default_input",
      "label": null,
      "packing": null,
      "data": null,
      "content_type": "object"
    },
    {
      "id": "arrow_3",
      "source": "node_2_default_output",
      "target": "node_4_default_input",
      "label": "sections",
      "packing": null,
      "data": null,
      "content_type": "object"
    },
    {
      "id": "arrow_4",
      "source": "node_4_default_output",
      "target": "node_5_default_input",
      "label": null,
      "packing": null,
      "data": null,
      "content_type": "object"
    },
    {
      "id": "arrow_5",
      "source": "node_5_default_output",
      "target": "node_6_default_input",
      "label": "batch_results",
      "packing": null,
      "data": null,
      "content_type": "object"
    },
    {
      "id": "arrow_6",
      "source": "node_1_default_output",
      "target": "node_6_default_input",
      "label": "target_score",
      "packing": null,
      "data": null,
      "content_type": "object"
    },
    {
      "id": "arrow_7",
      "source": "node_6_default_output",
      "target": "node_7_default_input",
      "label": null,
      "packing": null,
      "data": null,
      "content_type": "object"
    }
  ],
  "persons": [
    {
      "id": "Section Planner",
      "label": "section planner",
      "llm_config": {
        "service": "openai",
        "model": "gpt-5-nano-2025-08-07",
        "api_key_id": "APIKEY_52609F",
        "system_prompt": "You are a senior product/front-end architect. Given app requirements, split work into sections\n(pages, features, or components) that can be developed independently. Each section should be\na cohesive unit of functionality. Follow the Pydantic schema strictly.\n",
        "prompt_file": null
      },
      "type": "person"
    }
  ],
  "handles": [
    {
      "id": "node_0_default_output",
      "node_id": "node_0",
      "label": "default",
      "direction": "output",
      "data_type": "any",
      "position": "right"
    },
    {
      "id": "node_1_default_input",
      "node_id": "node_1",
      "label": "default",
      "direction": "input",
      "data_type": "any",
      "position": "left"
    },
    {
      "id": "node_1_default_output",
      "node_id": "node_1",
      "label": "default",
      "direction": "output",
      "data_type": "any",
      "position": "right"
    },
    {
      "id": "node_2_first_input",
      "node_id": "node_2",
      "label": "first",
      "direction": "input",
      "data_type": "any",
      "position": "left"
    },
    {
      "id": "node_2_default_input",
      "node_id": "node_2",
      "label": "default",
      "direction": "input",
      "data_type": "any",
      "position": "left"
    },
    {
      "id": "node_2_default_output",
      "node_id": "node_2",
      "label": "default",
      "direction": "output",
      "data_type": "any",
      "position": "right"
    },
    {
      "id": "node_3_default_input",
      "node_id": "node_3",
      "label": "default",
      "direction": "input",
      "data_type": "any",
      "position": "left"
    },
    {
      "id": "node_3_default_output",
      "node_id": "node_3",
      "label": "default",
      "direction": "output",
      "data_type": "any",
      "position": "right"
    },
    {
      "id": "node_4_default_input",
      "node_id": "node_4",
      "label": "default",
      "direction": "input",
      "data_type": "any",
      "position": "left"
    },
    {
      "id": "node_4_default_output",
      "node_id": "node_4",
      "label": "default",
      "direction": "output",
      "data_type": "any",
      "position": "right"
    },
    {
      "id": "node_5_default_input",
      "node_id": "node_5",
      "label": "default",
      "direction": "input",
      "data_type": "any",
      "position": "left"
    },
    {
      "id": "node_5_default_output",
      "node_id": "node_5",
      "label": "default",
      "direction": "output",
      "data_type": "any",
      "position": "right"
    },
    {
      "id": "node_6_default_input",
      "node_id": "node_6",
      "label": "default",
      "direction": "input",
      "data_type": "any",
      "position": "left"
    },
    {
      "id": "node_6_default_output",
      "node_id": "node_6",
      "label": "default",
      "direction": "output",
      "data_type": "any",
      "position": "right"
    },
    {
      "id": "node_7_default_input",
      "node_id": "node_7",
      "label": "default",
      "direction": "input",
      "data_type": "any",
      "position": "left"
    }
  ],
  "metadata": {
    "name": "Untitled",
    "description": null,
    "author": null,
    "tags": null,
    "created": "2025-08-17T07:51:17.118Z",
    "modified": "2025-08-17T07:51:17.118Z",
    "version": "1.0.0",
    "id": null
  }
}