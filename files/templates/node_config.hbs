import { Position } from '@xyflow/react';
import type { UnifiedNodeConfig } from '@/core/config/unifiedConfig';
import type { {{pascalCase nodeType}}NodeData } from '@/core/types';
import { {{camelCase nodeType}}Fields } from './{{camelCase nodeType}}Fields';

export const {{pascalCase nodeType}}NodeConfig: UnifiedNodeConfig<{{pascalCase nodeType}}NodeData> = {
  nodeType: '{{nodeType}}' as const,
  label: '{{displayName}}',
  icon: '{{icon}}',
  color: '{{color}}',
  category: '{{category}}',
  {{#if description}}
  description: '{{description}}',
  {{/if}}
  
  handles: {
    sources: [
      {{#each handles.outputs}}
      { id: '{{this}}', position: Position.Right },
      {{/each}}
    ],
    targets: [
      {{#each handles.inputs}}
      { id: '{{this}}', position: Position.Left },
      {{/each}}
    ]
  },
  
  defaults: {
    label: '{{displayName}}',
    {{#each fields}}
    {{#if defaultValue}}
    {{name}}: {{{safeJson defaultValue}}},
    {{/if}}
    {{/each}}
  },
  
  customFields: {{camelCase nodeType}}Fields
};